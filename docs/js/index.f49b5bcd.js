(function(e){function t(t){for(var n,c,i=t[0],l=t[1],s=t[2],d=0,f=[];d<i.length;d++)c=i[d],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&f.push(r[c][0]),r[c]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(f.length)f.shift()();return o.push.apply(o,s||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,i=1;i<a.length;i++){var l=a[i];0!==r[l]&&(n=!1)}n&&(o.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},r={index:0},o=[];function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var u=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("ed12")},1138:function(e,t){e.exports=vendor_lib},"170e":function(e,t,a){},"212a":function(e,t,a){},"2dfd":function(e,t,a){},"320c":function(e,t,a){e.exports=a("1138")(3)},"5e27":function(e,t,a){},"976d":function(e,t,a){},a1b6:function(e,t,a){},ab5b:function(e,t,a){e.exports=a("1138")(1)},bd92:function(e,t,a){},e642:function(e,t,a){},ed12:function(e,t,a){"use strict";a.r(t);var n=a("ab5b"),r=a.n(n),o=a("8bc8"),c=a.n(o),i=a("c973"),l=a.n(i),s=a("448a"),u=a.n(s),d=a("970b"),f=a.n(d),m=a("5bc3"),p=a.n(m),v=a("ed6d"),h=a.n(v),b=a("6b58"),g=a.n(b),y=a("36c6"),w=a.n(y),_=a("a34a"),E=a.n(_),k=a("23ee"),S=a.n(k);function O(e){var t=x();return function(){var a,n=w()(e);if(t){var r=w()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return g()(this,a)}}function x(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var N=document,R=N.body,j='\n  <svg\n    xmlns="http://www.w3.org/2000/svg"\n    xmlnsXlink="http://www.w3.org/1999/xlink"\n    style="display: none"\n  >\n    <symbol id="arrow" viewBox="0 0 17 18" width="16" height="16">\n      <path d="M8.36252 0.984375L16.3781 9L8.36252 17.0156L6.95627 15.6094L12.5344 9.98438H0.346894V8.01562H12.5344L6.95627 2.39062L8.36252 0.984375Z"></path>\n    </symbol>\n</svg>',C=function(e){h()(a,e);var t=O(a);function a(e){var n;return f()(this,a),n=t.call(this,e),n.state={},n}return p()(a,[{key:"componentDidMount",value:function(){R.insertAdjacentHTML("beforeend",j)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null)}}]),a}(n["Component"]);a("e642");function P(e){var t=L();return function(){var a,n=w()(e);if(t){var r=w()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return g()(this,a)}}function L(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var F=function(e){h()(a,e);var t=P(a);function a(e){var n;return f()(this,a),n=t.call(this,e),n.state={},n}return p()(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"loader"},r.a.createElement("div",{className:"loader__ring"},r.a.createElement("div",{className:"loader__circle"}),r.a.createElement("div",{className:"loader__circle"}),r.a.createElement("div",{className:"loader__circle"})))}}]),a}(n["Component"]),M=a("e792"),D=["Главная","Любимые герои","Имя","Планета","Поиск","Найти","Фильтр"],T={main:0,favorites:1,name:2,homeworld:3,search:4,find:5,filter:6},U={apiURL:"https://swapi.dev/api/people/",imgsURL:"https://starwars-visualguide.com/assets/img/characters/"},I={none:"none",load:"loading",main:D[T.main],favorites:D[T.favorites]},B=[{id:1,alias:D[T.main],name:"Главная",ref:"/",view:D[T.main]},{id:2,alias:D[T.favorites],name:"Любимые герои",ref:"/favorites",view:D[T.favorites]}],A=["Tatooine","Alderaan","Yavin IV","Hoth","Dagobah","Bespin","Endor","Naboo","Coruscant","Kamino","Geonosis","Utapau","Mustafar","Kashyyyk","Polis Massa","Mygeeto","Felucia","Cato Neimoidia","Saleucami","Stewjon","Eriadu","Corellia","Rodia","Nal Hutta","Dantooine","Bestine IV","Ord Mantell","unknown","Trandosha","Socorro","Mon Cala","Chandrila","Sullust","Toydaria","Malastare","Dathomir","Ryloth","Aleen Minor","Vulpter","Troiken","Haruun Kal","Cerea","Glee Anselm","Iridonia","Tholoth","Iktotch","Quermia","Dorin","Champala","Mirial","Serenno","Concord Dawn","Zolan","Ojom","Skako","Muunilinst","Shili","Kalee","Umbara"],H=(a("5e27"),function(e){var t=e.updateState,a=function(e){t({update:!0})({view:B[e].view})};return r.a.createElement("nav",{className:"nav"},r.a.createElement(M["a"],null,B.map((function(e,t){return r.a.createElement(M["b"],{key:e.id,to:e.ref,className:"nav__link",activeClassName:"nav__link_active",onClick:function(){return a(t)},exact:!0,replace:!0},e.name)}))))}),V=H,K=a("278c"),G=a.n(K),J=a("9523"),Z=a.n(J),q=(a("a1b6"),function(e){var t=e.forId,a=e.defaultActive,o=e.callback,c=Object(n["useState"])(a||!1),i=G()(c,2),l=i[0],s=i[1],u=Object(n["useRef"])(a||!1),d=function(){s((function(e){return!e})),u.current=!u.current,o(u.current)};return r.a.createElement("div",{className:"heart"},r.a.createElement("input",{id:t,className:"heart heart_hidden",type:"checkbox",onClick:d}),r.a.createElement("label",{className:"heart__lab".concat(l?" heart__lab_active":""),htmlFor:t}))}),Q=q;a("212a");function X(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?X(Object(a),!0).forEach((function(t){Z()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var z=function(e){var t=e.card,a=e.cardFavorites,n=e.updateState,o=function(){var e=u()(a);e.push(Y(Y({},t),{},{like:!0})),e.sort((function(e,t){return e.id-t.id})),n({update:!0})({cardFavorites:u()(e)})},c=function(){var e=u()(a),r=e.findIndex((function(e){return e.id==t.id}));e.splice(r,1),n({update:!0})({cardFavorites:u()(e)})},i=function(e){e?o():c()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q,{defaultActive:t.like,forId:t.id,callback:function(e){return i(e)}}),r.a.createElement("a",{className:"card",href:"/test"},r.a.createElement("img",{className:"card__img",src:t.image,alt:t.name}),r.a.createElement("div",{className:"card__name"},"".concat(D[T.name],": ").concat(t.name)),r.a.createElement("div",{className:"card__homeworld"},"".concat(D[T.homeworld],": ").concat(t.homeworld))))};z.defaultProps={card:{image:"",name:"",homeworld:""}};var W=z,$=(a("976d"),function(e){var t=e.list,a=e.cardFavorites,o=e.updateState,c=Object(n["useState"])(),i=G()(c,2);i[0],i[1];return r.a.createElement("div",{className:"list"},t.map((function(e){return r.a.createElement("div",{className:"list__item",key:e.id},r.a.createElement(W,{card:e,cardFavorites:a,updateState:o}))})))}),ee=$,te=(a("170e"),function(e){e.cardList;var t=e.getData,a=e.updateState,o=Object(n["useState"])(""),c=G()(o,2),i=c[0],l=c[1],s=function(e){var t=e.target.value;l(t)},d=function(e){var t=e.match(/(?!=people\/)\d+(?=\/)/gi)||[],a=t[0]||"",n={id:a,url:"".concat(U.imgsURL).concat(a,".jpg")};return n},f=function(){t({data:{},baseUrl:U.apiURL,method:"?search=".concat(i)}).then((function(e){if(e.results.length&&i){var t=Array.from(e.results,(function(e,t){var a=e.homeworld.match(/(?!=planets\/)\d+(?=\/)/gi)[0],n=A[a],r=d(e.url);return{homeworld:n,id:r.id,image:r.url,name:e.name}}));a({update:!0})({filtered:u()(t),totalRecords:Math.floor(t.length/10)})}else a({update:!0})({filtered:[],totalRecords:9})}))};return r.a.createElement("div",{className:"search"},r.a.createElement("div",{className:"search__name"},D[T.search]),r.a.createElement("input",{className:"search__field",type:"text",onChange:s,value:i||""}),r.a.createElement("button",{className:"search__btn",type:"button",onClick:f},D[T.find]))}),ae=te,ne=(a("bd92"),function(e){var t=e.action,a=e.labText,o=e.extClass,c=e.idFor,i=e.bubbling,l=e.callback,s=Object(n["useState"])(t),u=G()(s,2),d=u[0],f=u[1];Object(n["useEffect"])((function(){i&&l(d)}),[i]);var m=function(e){"keypress"===e.type&&"Space"!==e.code||f((function(e){return!e}))};return r.a.createElement("div",{className:"check-box",tabIndex:"0",role:"checkbox","aria-checked":d,onKeyPress:m},r.a.createElement("input",{id:c,className:"check-box__field check-box__field_hiden",onChange:m,type:"checkbox",tabIndex:"-1",checked:d,"aria-hidden":!0}),r.a.createElement("label",{className:"check-box__lab".concat(o||""),htmlFor:c},a))});ne.defaultProps={action:!1,labText:"label_text",bubbling:!1,callback:function(e){return e}};a("2dfd"),a("f01d");function re(e){var t=oe();return function(){var a,n=w()(e);if(t){var r=w()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return g()(this,a)}}function oe(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var ce=function(e){h()(a,e);var t=re(a);function a(e){var n;return f()(this,a),n=t.call(this,e),n.componentDidMount=function(){n.onPageChanged()},n.updateFavorites=function(e){var t=n.state.cardFavorites;t.length&&e.cardFavorites!=t&&window.history.pushState({cardFavorites:u()(t)},"","")},n.updateTotalRecord=function(e){var t=n.state,a=t.view,r=t.cardFavorites,o=t.filtered;e.view!=a&&(a===I.main?n.setState({totalRecords:Math.floor(o.length/10)||9}):n.setState({totalRecords:Math.floor(r.length/10)}))},n.componentDidUpdate=function(e,t){n.updateFavorites(t),n.updateTotalRecord(t)},n.getData=function(){var e=l()(E.a.mark((function e(t){var a,r,o,c,i,l,s;return E.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.baseUrl,r=void 0===a?U.apiURL:a,o=t.method,c=void 0===o?"":o,i=t.data,l=void 0===i?{}:i,e.next=3,fetch("".concat(r).concat(c),l);case 3:if(s=e.sent,null!==s&&void 0!==s&&s.ok){e.next=7;break}throw n.setState({view:I.error}),new Error("ответ по запросу ".concat(r).concat(c," имеет статус ").concat(s.status));case 7:return e.abrupt("return",s.json());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.updateState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.update;return t?function(e){return n.setState(e)}:n.state},n.prepareLinkToImage=function(e){var t=e.match(/(?!=people\/)\d+(?=\/)/gi)||[],a=t[0]||"",n={id:a,url:"".concat(U.imgsURL).concat(a,".jpg")};return n},n.changeView=function(){var e=document.location.pathname.search("favorites");~e?n.setState({view:I.favorites}):n.setState({view:I.main})},n.onPageChanged=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{selected:0},t=e.selected;n.setState({view:I.load,selected:e.selected}),n.getData({data:{},baseUrl:U.apiURL,method:"?page=".concat(t+1)}).then((function(e){if(null!==e&&void 0!==e&&e.results){var t=Array.from(e.results,(function(e,t){var a=e.homeworld.match(/(?!=planets\/)\d+(?=\/)/gi)[0],r=A[a],o=n.prepareLinkToImage(e.url);return{homeworld:r,id:o.id,image:o.url,name:e.name}}));n.setState({cardList:u()(t)}),n.changeView()}}))},n.getCardList=function(){var e=n.state,t=e.view,a=e.cardList,r=e.cardFavorites,o=e.filtered;return t===I.main?o.length?o:a:r},n.state={view:I.load,cardList:[],cardFavorites:[],filtered:[]},n}return p()(a,[{key:"render",value:function(){var e=this.state,t=e.view,a=e.totalRecords,n=e.cardList,o=e.cardFavorites,c=e.selected;return t!==I.error&&r.a.createElement("div",{className:"st-wars"},t===I.load&&r.a.createElement(F,null),r.a.createElement("div",{className:"st-wars__cont".concat(t===I.load?" st-wars_hidden":"")},r.a.createElement("div",{className:"st-wars__nav"},r.a.createElement(V,{updateState:this.updateState})),r.a.createElement("div",{className:"st-wars__wrap"},r.a.createElement(ee,{list:this.getCardList(),cardFavorites:o,updateState:this.updateState}),t!=I.favorites&&r.a.createElement("div",{className:"st-wars__bar"},r.a.createElement(ae,{cardList:n,getData:this.getData,updateState:this.updateState}))),t!=I.favorites&&r.a.createElement("div",{className:"st-wars__pagination"},r.a.createElement(S.a,{initialPage:c,pageCount:a,onPageChange:this.onPageChanged,pageRangeDisplayed:"10",marginPagesDisplayed:"1",activeClassName:"pagination__btn_active",previousClassName:"pagination__btn_prev",nextClassName:"pagination__btn_next",pageClassName:"pagination__btn",pageLinkClassName:"pagination__link"})),r.a.createElement(C,null)))}}]),a}(n["Component"]),ie=ce;window.onload=function(){c.a.render(r.a.createElement(ie,null),document.querySelector("#root"))}},f01d:function(e,t,a){}});